create database msau;
use msau;

create table users(uid integer primary key auto_increment, email varchar(50), uname varchar(50), psw varchar(100));

create table trainer(tid integer not null primary key auto_increment, tname varchar(50), designation varchar(100), specialities varchar(100), email varchar(50));

create table course(cid integer not null primary key auto_increment, cname varchar(50), cdescription varchar(100), skills varchar(100), prerequisites varchar(100), tid integer, last_updated datetime, feedback float, foreign key(tid) references trainer(tid));

create table course_enrolled(cid integer not null, uid integer not null, percentile float, foreign key(cid) references course(cid), foreign key(uid) references users(uid), CONSTRAINT course_user PRIMARY KEY (cid,uid));

create table assignment(aid integer not null primary key, question varchar(200), asstype varchar(20), cid integer, weight integer, foreign key(cid) references course(cid));

create table submission(aid integer not null, uid integer not null, solution varchar(500), score integer, foreign key(aid) references assignment(aid), foreign key(uid) references users(uid), CONSTRAINT course_user PRIMARY KEY (aid,uid));